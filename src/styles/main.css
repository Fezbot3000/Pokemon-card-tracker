@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply antialiased h-full;
  }
  
  body {
    @apply bg-gray-50 text-gray-800 font-sans min-h-screen overflow-y-auto;
  }
  
  html.dark body {
    @apply bg-[#0B0F19] text-gray-200;
  }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl transition-all duration-200 font-medium text-sm;
  }
  
  .btn-primary {
    @apply bg-[#4F46E5] text-white hover:bg-[#4F46E5]/90;
  }
  
  .btn-secondary {
    @apply bg-white text-gray-700 hover:bg-gray-50 border border-gray-200;
  }
  
  .btn-danger {
    @apply bg-red-100 text-red-600 hover:bg-red-200;
  }

  /* Dark mode overrides */
  html.dark {
    .btn-secondary {
      @apply bg-[#1B2131] text-gray-200 hover:bg-[#252B3B] border-gray-700/50;
    }

    .btn-danger {
      @apply bg-red-900/20 text-red-400 hover:bg-red-900/30;
    }

    .search-input {
      @apply bg-[#1B2131] border-gray-700/50 text-gray-200 placeholder-gray-400;
    }

    .sort-btn {
      @apply bg-[#252B3B] text-white border-gray-700/50 hover:bg-[#323B4B];
    }

    .view-dropdown {
      @apply bg-[#1B2131] border-gray-700/50;
    }

    .view-option {
      @apply text-gray-200 hover:bg-[#252B3B];
    }

    .input, .search-input {
      @apply bg-[#0B0F19] border-gray-700/50 text-gray-200 focus:ring-primary/40;
    }

    .app-header {
      @apply bg-[#0B0F19] border-gray-700/50;
    }

    .collection-info {
      @apply text-gray-400;
    }

    .summary-card {
      @apply bg-[#1B2131] border-gray-700/50;
    }

    .summary-label {
      @apply text-gray-400;
    }

    .summary-value {
      @apply text-gray-200;
    }

    .card-item {
      @apply bg-[#1B2131] border-gray-700/50;
    }

    .card-image {
      @apply bg-[#252B3B];
    }

    .card-title {
      @apply text-gray-200;
    }

    .card-subtitle {
      @apply text-gray-400;
    }

    .card-investment {
      @apply text-gray-400;
    }

    .card-value {
      @apply text-gray-200;
    }
  }

  /* Search Controls */
  .search-controls {
    @apply flex flex-col w-full gap-4;
  }

  .search-input-wrapper {
    @apply w-full;
  }

  .search-input {
    @apply w-full px-4 py-3 rounded-xl bg-white border border-gray-200 text-gray-800 placeholder-gray-500;
  }

  .controls-wrapper {
    @apply flex flex-col sm:flex-row w-full gap-4;
  }

  .sort-controls {
    @apply flex flex-col sm:flex-row w-full sm:w-auto gap-4;
  }

  /* Sort Button */
  .sort-btn {
    @apply flex items-center justify-between gap-2 rounded-xl py-3 px-6 bg-white text-gray-800 border border-gray-200 transition-all duration-200 font-medium hover:bg-gray-50 w-full sm:w-auto;
  }

  .sort-btn-content {
    @apply flex items-center gap-2;
  }

  /* View Dropdown */
  .view-dropdown {
    @apply absolute right-0 top-full mt-1 w-full sm:w-48 bg-white rounded-xl shadow-lg overflow-hidden z-[100] border border-gray-200;
  }
  
  .view-option {
    @apply py-3 px-4 text-gray-800 text-base font-normal hover:bg-gray-50 w-full text-left transition-colors border-0;
  }

  .view-option.active {
    @apply bg-gray-50 text-gray-900 font-medium;
  }

  /* Inputs */
  .input, .search-input {
    @apply w-full px-4 py-2.5 rounded-xl bg-white border border-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary;
  }

  /* App Layout */
  .app {
    @apply max-w-7xl mx-auto px-6 py-4;
  }

  /* Header */
  .app-header {
    @apply sticky top-0 z-40 flex justify-between items-center px-6 py-4 bg-white border-b border-gray-200;
  }

  /* Collection Info */
  .collection-info {
    @apply flex items-center gap-2 text-sm text-gray-500 mt-2 mb-6;
  }

  /* Summary Cards */
  .summary-cards {
    @apply grid grid-cols-1 md:grid-cols-3 gap-6 mb-8;
  }

  .summary-card {
    @apply bg-white rounded-2xl p-6 border border-gray-200;
  }

  .summary-label {
    @apply text-sm text-gray-500 font-medium mb-2;
  }

  .summary-value {
    @apply text-2xl font-semibold text-gray-800;
  }

  .profit-value {
    @apply text-success;
  }

  .profit-value.negative {
    @apply text-error;
  }

  /* Cards */
  .card-item {
    @apply flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-white border border-gray-200 rounded-2xl hover:shadow-sm transition-all cursor-pointer mb-4;
  }

  .card-item-left {
    @apply flex items-center gap-4 w-full sm:w-auto mb-4 sm:mb-0;
  }

  .card-item-right {
    @apply flex flex-row sm:flex-row items-center sm:items-end justify-between sm:justify-end w-full sm:w-auto gap-4 sm:gap-8 mt-2 sm:mt-0 pl-9 sm:pl-0;
  }

  .card-image {
    @apply w-16 h-24 bg-gray-100 rounded-xl overflow-hidden flex items-center justify-center flex-shrink-0;
  }

  .card-info {
    @apply flex flex-col flex-1 sm:flex-initial;
  }

  .card-title {
    @apply text-base text-gray-800 font-medium;
  }

  .card-subtitle {
    @apply text-sm text-gray-500;
  }

  .card-investment {
    @apply text-sm text-gray-500;
  }

  .card-value {
    @apply text-base text-gray-800 font-medium;
  }

  .card-profit {
    @apply text-sm font-medium;
  }

  .card-profit.positive {
    @apply text-emerald-500;
  }

  .card-profit.negative {
    @apply text-red-500;
  }

  .card-value-group {
    @apply flex flex-col items-end;
  }

  /* Dropdowns */
  .dropdown-menu, .filter-dropdown {
    @apply absolute mt-1 bg-white rounded-xl shadow-lg border border-gray-200 py-1 z-[100] overflow-hidden;
  }

  .dropdown-menu {
    @apply left-0 top-full w-64;
  }

  .filter-dropdown {
    @apply right-0 w-48;
  }

  .dropdown-item, .filter-item {
    @apply w-full px-4 py-2.5 text-left hover:bg-gray-50 text-gray-700 flex items-center gap-2 text-base font-normal transition-colors;
  }

  .dropdown-item.active {
    @apply bg-gray-50 text-gray-900 font-medium;
  }

  /* Card Details */
  .card-details {
    @apply flex flex-col gap-6 p-6 bg-white;
  }

  .card-details-section {
    @apply mb-8;
  }

  .card-details-header {
    @apply flex justify-between items-center mb-6;
  }

  .card-details-title {
    @apply text-2xl font-semibold text-gray-800;
  }

  .card-details-label {
    @apply block text-sm text-gray-600 mb-2;
  }

  .card-details-value {
    @apply w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-gray-800;
  }

  .card-details-input {
    @apply w-full px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-gray-800;
  }

  /* Financial Details Box */
  .financial-details {
    @apply bg-white rounded-xl p-6 border border-gray-200;
  }

  .financial-details-header {
    @apply text-xl font-semibold text-gray-800 mb-4;
  }

  .financial-details-grid {
    @apply grid grid-cols-2 gap-4;
  }

  .financial-details-item {
    @apply bg-gray-50 rounded-lg p-4;
  }

  .financial-details-label {
    @apply text-sm text-gray-600 mb-1;
  }

  .financial-details-value {
    @apply text-lg font-medium text-gray-800;
  }

  /* Profit/Loss Box */
  .profit-loss-box {
    @apply flex justify-between items-center p-4 bg-white rounded-xl border border-gray-200;
  }

  .profit-loss-label {
    @apply text-sm text-gray-600;
  }

  .profit-loss-value {
    @apply text-xl font-medium;
  }

  .profit-loss-value.positive {
    @apply text-emerald-500;
  }

  .profit-loss-value.negative {
    @apply text-red-500;
  }

  /* Return Value */
  .return-value {
    @apply text-xl font-medium;
  }

  .return-value.positive {
    @apply text-emerald-500;
  }

  .return-value.negative {
    @apply text-red-500;
  }

  /* Modals */
  .modal {
    @apply fixed inset-0 bg-black/50 flex items-center justify-center z-[60];
  }

  .modal-content {
    @apply bg-white dark:bg-[#1B2131] rounded-2xl w-full max-w-lg;
  }

  .modal-header {
    @apply flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700/50;
  }

  .modal-title {
    @apply text-2xl font-semibold text-gray-800 dark:text-gray-200;
  }

  .modal-close {
    @apply text-2xl text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300;
  }

  .modal-body {
    @apply p-6 space-y-6;
  }

  .modal-label {
    @apply block text-gray-700 dark:text-gray-300 text-xl mb-3;
  }

  .modal-input {
    @apply w-full px-4 py-3 bg-white dark:bg-[#252B3B] border border-gray-300 dark:border-gray-700/50 rounded-xl text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors;
  }

  .modal-footer {
    @apply flex justify-end gap-3;
  }

  .modal-btn-cancel {
    @apply px-6 py-3 bg-gray-100 dark:bg-[#252B3B] text-gray-700 dark:text-gray-200 rounded-xl hover:bg-gray-200 dark:hover:bg-[#323B4B] transition-colors;
  }

  .modal-btn-create {
    @apply px-6 py-3 bg-[#4F46E5] text-white rounded-xl hover:bg-[#4F46E5]/90 transition-colors;
  }

  /* Import Zone */
  .import-zone {
    @apply border-2 border-dashed border-gray-300 rounded-xl p-8 text-center;
  }

  html.dark .import-zone {
    @apply border-gray-700/50;
  }

  /* Text Styles */
  .text-label {
    @apply text-gray-500;
  }

  html.dark .text-label {
    @apply text-gray-400;
  }

  .text-value {
    @apply text-gray-800;
  }

  html.dark .text-value {
    @apply text-gray-200;
  }

  /* Settings Modal */
  html.dark .settings-modal {
    @apply bg-[#1B2131];
  }

  html.dark .settings-modal h2,
  html.dark .settings-modal h3 {
    @apply text-gray-200;
  }

  html.dark .settings-modal label {
    @apply text-gray-400;
  }

  html.dark .settings-modal input {
    @apply bg-[#252B3B] border-gray-700/50 text-gray-200;
  }

  html.dark .settings-modal button.btn-secondary {
    @apply bg-[#252B3B] text-gray-200 border-gray-700/50 hover:bg-[#323B4B];
  }

  /* Mobile Navigation */
  .mobile-menu-button {
    @apply hidden;
  }

  .mobile-menu {
    @apply fixed inset-0 z-50 bg-white transform transition-transform duration-300 ease-in-out;
  }

  html.dark .mobile-menu {
    @apply bg-[#0B0F19];
  }

  .mobile-menu.hidden {
    @apply translate-x-full;
  }

  .mobile-menu-header {
    @apply flex items-center justify-between p-6 border-b border-gray-700/50;
  }

  .mobile-menu-content {
    @apply flex flex-col gap-4 p-6;
  }

  .mobile-menu-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-gray-800 hover:bg-gray-50 transition-colors text-base;
  }

  html.dark .mobile-menu-item {
    @apply text-gray-200 hover:bg-[#252B3B];
  }

  /* Header Navigation */
  .header-nav {
    @apply flex items-center gap-4;
  }

  .header-buttons {
    @apply flex items-center gap-4;
  }

  /* Mobile Breakpoint */
  @media (max-width: 639px) {
    .mobile-menu-button {
      @apply block;
    }

    .header-nav {
      @apply hidden;
    }

    .header-buttons {
      @apply hidden;
    }
  }
}